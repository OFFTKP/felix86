%ifdef CONFIG
{
  "HostFeatures": ["AVX"],
  "RegData": {
    "XMM1":  ["0x828486888A8C8E90", "0xE2E4E6E8EAECEEF0", "0x0000000000000000", "0x0000000000000000"],
    "XMM2":  ["0x4200440046004800", "0x7200740076007800", "0x0000000000000000", "0x0000000000000000"],
    "XMM3":  ["0x0000000000000000", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"],
    "XMM4":  ["0x0000000000000000", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"],
    "XMM5":  ["0x828486888A8C8E90", "0xE2E4E6E8EAECEEF0", "0x828486888A8C8E90", "0xE2E4E6E8EAECEEF0"],
    "XMM6":  ["0x4200440046004800", "0x7200740076007800", "0x4200440046004800", "0x7200740076007800"],
    "XMM7":  ["0x0000000000000000", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"],
    "XMM8":  ["0x0000000000000000", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"]
  },
  "MemoryRegions": {
    "0x100000000": "4096"
  }
}
%endif

lea rdx, [rel .data]

vmovaps ymm0, [rdx]

vpsllw xmm1, xmm0, [rdx + 32 * 1]
vpsllw xmm2, xmm0, [rdx + 32 * 2]
vpsllw xmm3, xmm0, [rdx + 32 * 3]
vpsllw xmm4, xmm0, [rdx + 32 * 4]

vpsllw ymm5, ymm0, [rdx + 32 * 1]
vpsllw ymm6, ymm0, [rdx + 32 * 2]
vpsllw ymm7, ymm0, [rdx + 32 * 3]
vpsllw ymm8, ymm0, [rdx + 32 * 4]

hlt

align 32
.data:
dq 0x4142434445464748
dq 0x7172737475767778
dq 0x4142434445464748
dq 0x7172737475767778

dq 0x0000000000000001
dq 0x5152535455565758
dq 0x5152535455565758
dq 0x5152535455565758

dq 0x0000000000000008
dq 0x5152535455565758
dq 0x5152535455565758
dq 0x5152535455565758

dq 0x0000000000000010
dq 0x5152535455565758
dq 0x5152535455565758
dq 0x5152535455565758

dq 0x0000000000000020
dq 0x5152535455565758
dq 0x5152535455565758
dq 0x5152535455565758

%ifdef CONFIG
{
  "HostFeatures": ["AVX"],
  "RegData": {
    "XMM0":  ["0x100", "0x100", "0x080", "0x180"],
    "XMM8":  ["0x327", "0x21D", "0x3CA", "0x2BA"],
    "XMM9":  ["0x2BA", "0x3CA", "0x21D", "0x327"],
    "XMM10": ["0x2B1", "0x279", "0x284", "0x1F8"],
    "XMM11": ["0x295", "0x306", "0x280", "0x27B"],
    "XMM12": ["0x245", "0x235", "0x279", "0x42E"],
    "XMM13": ["0x29B", "0x139", "0x35B", "0x396"],
    "XMM14": ["0x25B", "0x390", "0x1EA", "0x2F9"]
  }
}
%endif

lea rdx, [rel .reg_data]

vmovaps ymm0, [rdx + 32]
vpsadbw ymm0, ymm0, [rdx]

lea rdx, [rel .data]

vmovaps ymm1, [rdx + 32 * 0]
vmovaps ymm2, [rdx + 32 * 1]
vmovaps ymm3, [rdx + 32 * 2]
vmovaps ymm4, [rdx + 32 * 3]
vmovaps ymm5, [rdx + 32 * 4]
vmovaps ymm6, [rdx + 32 * 5]
vmovaps ymm7, [rdx + 32 * 6]

vpsadbw ymm8,  ymm1, [rdx + 32 * 8]
vpsadbw ymm9,  ymm2, [rdx + 32 * 9]
vpsadbw ymm10, ymm3, [rdx + 32 * 10]
vpsadbw ymm11, ymm4, [rdx + 32 * 11]
vpsadbw ymm12, ymm5, [rdx + 32 * 12]
vpsadbw ymm13, ymm6, [rdx + 32 * 13]
vpsadbw ymm14, ymm7, [rdx + 32 * 14]

hlt

align 32

.reg_data:
dq 0x4142434445464748
dq 0x5152535455565758
dq 0x6162636465666768
dq 0x7172737475767778

dq 0x6162636465666768
dq 0x7172737475767778
dq 0x5152535455565758
dq 0x4142434445464748

.data:
dq 0xE0FC2BA1064F6CA7
dq 0x0F066A1E7F76809B
dq 0xDEE6E694E2E9FCF0
dq 0xE056EDAAF3C36868

dq 0xE056EDAAF3C36868
dq 0xDEE6E694E2E9FCF0
dq 0x0F066A1E7F76809B
dq 0xE0FC2BA1064F6CA7

dq 0x6E35A854D7AB8B6C
dq 0xC7CD73EC95D66F6A
dq 0x775F92CA25A67E27
dq 0xBBAEF2BB27B9A1DD

dq 0xC7CD73EC95D66F6A
dq 0x6E35A854D7AB8B6C
dq 0xBBAEF2BB27B9A1DD
dq 0x775F92CA25A67E27

dq 0x734DD1C7D52C3188
dq 0xA042629AA4A87382
dq 0xFEE7DBFD1E1E097F
dq 0x14FA4E95EFE69AF2

dq 0x14FA4E95EFE69AF2
dq 0xA042629AA4A87382
dq 0x734DD1C7D52C3188
dq 0xFEE7DBFD1E1E097F

dq 0x0E0F168238071232
dq 0xCB4619572B372A46
dq 0x073592C1630778B3
dq 0x1F040E793DCD8DA3

dq 0xCB4619572B372A46
dq 0x0E0F168238071232
dq 0x1F040E793DCD8DA3
dq 0x073592C1630778B3

dq 0x2BF3862FABBA5730
dq 0x9E48A3B98D71E39D
dq 0x2ED62CF0464F3FEF
dq 0xEFD1BB85344B3CDE

dq 0xEFD1BB85344B3CDE
dq 0x2ED62CF0464F3FEF
dq 0x9E48A3B98D71E39D
dq 0x2BF3862FABBA5730

dq 0x0972FBDE8A32509D
dq 0x7005B2F1569C0EA6
dq 0x6998F1F652EBF7EE
dq 0xD699C2FF301C02CE

dq 0xD699C2FF301C02CE
dq 0x6998F1F652EBF7EE
dq 0x7005B2F1569C0EA6
dq 0x0972FBDE8A32509D

dq 0xC8765FC8710CD3B6
dq 0x1862C4E286387630
dq 0x2FA1E4A70E5D53EB
dq 0xC519EAABA62C1D88

dq 0x1445E0B7E1E80268
dq 0x9812328F547659AC
dq 0x1AFE8EC18FF2EB46
dq 0x7F5D6A2346972E03

dq 0x7F5D6A2346972E03
dq 0x1445E0B7E1E80268
dq 0x9812328F547659AC
dq 0x1AFE8EC18FF2EB46

dq 0x1445E0B7E1E80268
dq 0xC8765FC8710CD3B6
dq 0xC519EAABA62C1D88
dq 0x1AFE8EC18FF2EB46

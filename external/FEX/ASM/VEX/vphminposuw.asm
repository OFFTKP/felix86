%ifdef CONFIG
{
  "HostFeatures": ["AVX"],
  "RegData": {
    "XMM0":  ["0x0000000000000001", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"],
    "XMM1":  ["0x0000000000030001", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"],
    "XMM2":  ["0x0000000000070001", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"],
    "XMM3":  ["0x0000000000010001", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"]
  },
  "MemoryRegions": {
    "0x100000000": "4096"
  }
}
%endif

lea rdx, [rel .data]

vphminposuw xmm0, [rdx + 16 * 0]
vphminposuw xmm1, [rdx + 16 * 1]
vphminposuw xmm2, [rdx + 16 * 2]
vphminposuw xmm3, [rdx + 16 * 3]

hlt

align 16
.data:

; Pos 0
dq 0x0004000300020001
dq 0x0008000700060005

; Pos 3
dq 0x0001000300020004
dq 0x0008000700060005

; Pos 7
dq 0x0008000300020004
dq 0x0001000700060005

; Pos 7 & 3 & 2
; Should return lowest position
dq 0x0008000100010004
dq 0x0001000700060005

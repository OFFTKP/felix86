%ifdef CONFIG
{
  "HostFeatures": ["AVX"],
  "RegData": {
    "XMM2":  ["0x4546474845464748", "0x6566676865666768", "0x0000000000000000", "0x0000000000000000"],
    "XMM3":  ["0x5152535451525354", "0x7172737471727374", "0x0000000000000000", "0x0000000000000000"],
    "XMM4":  ["0x4546474851525354", "0x7576777871727374", "0x0000000000000000", "0x0000000000000000"],
    "XMM5":  ["0x4546474845464748", "0x6566676865666768", "0x3536373835363738", "0x8586878885868788"],
    "XMM6":  ["0x5152535451525354", "0x7172737471727374", "0x2122232421222324", "0x9192939491929394"],
    "XMM7":  ["0x4546474851525354", "0x7576777871727374", "0x3536373821222324", "0x9596979891929394"]
  }
}
%endif

lea rdx, [rel .data]

vmovapd ymm0, [rdx]
vmovapd ymm1, [rdx + 32]

vshufps xmm2, xmm0, xmm1, 0b00000000
vshufps xmm3, xmm0, xmm1, 0b11111111
vshufps xmm4, xmm0, xmm1, 0b10110011

vshufps ymm5, ymm0, ymm1, 0b00000000
vshufps ymm6, ymm0, ymm1, 0b11111111
vshufps ymm7, ymm0, ymm1, 0b10110011

hlt

align 32
.data:
dq 0x4142434445464748
dq 0x5152535455565758
dq 0x3132333435363738
dq 0x2122232425262728

dq 0x6162636465666768
dq 0x7172737475767778
dq 0x8182838485868788
dq 0x9192939495969798

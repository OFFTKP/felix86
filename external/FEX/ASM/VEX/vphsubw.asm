%ifdef CONFIG
{
  "HostFeatures": ["AVX"],
  "RegData": {
    "XMM2": ["0xF202F20212021202", "0x0202020202020202", "0x0000000000000000", "0x0000000000000000"],
    "XMM3": ["0x0202020202020202", "0xF202F20212021202", "0x0000000000000000", "0x0000000000000000"],
    "XMM4": ["0xF202F20212021202", "0x0202020202020202", "0x44457778CCCD1111", "0x11111111EEEFEEEF"],
    "XMM5": ["0x0202020202020202", "0xF202F20212021202", "0x11111111EEEFEEEF", "0x44457778CCCD1111"]
  }
}
%endif

lea rdx, [rel .data]

vmovaps ymm0, [rdx]
vmovaps ymm1, [rdx + 32]

vphsubw xmm2, xmm0, [rdx + 32]
vphsubw xmm3, xmm1, [rdx]

vphsubw ymm4, ymm0, [rdx + 32]
vphsubw ymm5, ymm1, [rdx]

hlt

align 32
.data:
dq 0x5142634475468748
dq 0x5152435435562758
dq 0xFFFFCCCCEEEEFFFF
dq 0xEEEE3333EEEE6666

dq 0x6172637465766778
dq 0x7162736475667768
dq 0x9999888877776666
dq 0x1111222233334444
